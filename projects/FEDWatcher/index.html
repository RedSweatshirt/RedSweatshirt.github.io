<!DOCTYPE html>
<html lang="en">

  <!-- Head -->
  <head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">    <!-- Metadata, OpenGraph and Schema.org -->
    

    <!-- Standard metadata -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>FEDWatcher, A Raspberry Pi Interface for FED3 Devices | John Eastman</title>
    <meta name="author" content="John  Eastman">
    <meta name="description" content="Research at MIT Choi Labs">
    <meta name="keywords" content="academic-website, portfolio-website, john-eastman, jack-eastman, computer-science, computer-graphics, computer-vision">


    <!-- Bootstrap & MDB -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha256-DF7Zhf293AJxJNTmh5zhoYYIMs2oXitRfBjY+9L//AY=" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/mdbootstrap@4.20.0/css/mdb.min.css" integrity="sha256-jpjYvU3G3N6nrrBwXJoVEYI/0zw8htfFnhT9ljN3JJw=" crossorigin="anonymous">

    <!-- Fonts & Icons -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.15.4/css/all.min.css" integrity="sha256-mUZM63G8m73Mcidfrv5E+Y61y7a12O5mW4ezU3bxqW4=" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/academicons@1.9.1/css/academicons.min.css" integrity="sha256-i1+4qU2G2860dGGIOJscdC30s9beBXjFfzjWLjBRsBg=" crossorigin="anonymous">
    <link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700%7CRoboto+Slab:100,300,400,500,700%7CMaterial+Icons">

    <!-- Code Syntax Highlighting -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/jwarby/jekyll-pygments-themes@master/autumn.css" media="" id="highlight_theme_light">

    <!-- Styles -->
    
    <link rel="shortcut icon" href="data:image/svg+xml,&lt;svg%20xmlns=%22http://www.w3.org/2000/svg%22%20viewBox=%220%200%20100%20100%22&gt;&lt;text%20y=%22.9em%22%20font-size=%2290%22&gt;%F0%9F%8D%81&lt;/text&gt;&lt;/svg&gt;">
    
    <link rel="stylesheet" href="/assets/css/main.css">
    <link rel="canonical" href="https://redsweatshirt.github.io/projects/FEDWatcher/">
    
    <!-- Dark Mode -->
    
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/jwarby/jekyll-pygments-themes@master/monokai.css" media="none" id="highlight_theme_dark">

    <script src="/assets/js/theme.js"></script>
    <script src="/assets/js/dark_mode.js"></script>
    

  </head>

  <!-- Body -->
  <body class="fixed-top-nav sticky-bottom-footer">

    <!-- Header -->
    <header>

      <!-- Nav Bar -->
      <nav id="navbar" class="navbar navbar-light navbar-expand-sm fixed-top">
        <div class="container">
          <a class="navbar-brand title font-weight-lighter" href="//">John Eastman</a>
          <!-- Navbar Toggle -->
          <button class="navbar-toggler collapsed ml-auto" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar top-bar"></span>
            <span class="icon-bar middle-bar"></span>
            <span class="icon-bar bottom-bar"></span>
          </button>

          <div class="collapse navbar-collapse text-right" id="navbarNav">
            <ul class="navbar-nav ml-auto flex-nowrap">

              <!-- About -->
              <li class="nav-item ">
                <a class="nav-link" href="/">about</a>
              </li>
              

              <!-- Other pages -->
              <li class="nav-item ">
                <a class="nav-link" href="/cv/">cv</a>
              </li>
              <li class="nav-item ">
                <a class="nav-link" href="/projects/">projects</a>
              </li>

              <!-- Toogle theme mode -->
              <li class="toggle-container">
                <button id="light-toggle" title="Change theme">
                  <i class="fas fa-moon"></i>
                  <i class="fas fa-sun"></i>
                </button>
              </li>
            </ul>
          </div>
        </div>
      </nav>

      <!-- Scrolling Progress Bar -->
      <progress id="progress" value="0">
        <div class="progress-container">
          <span class="progress-bar"></span>
        </div>
      </progress>
    </header>


    <!-- Content -->
    <div class="container mt-5">
      <!-- page.html -->
        <div class="post">

          <header class="post-header">
            <h1 class="post-title">FEDWatcher, A Raspberry Pi Interface for FED3 Devices</h1>
            <p class="post-description">Research at MIT Choi Labs</p>
          </header>

          <article>
            <center>
    <div class="row justify-content-sm-center">
        <div class="col-sm mt-3 mt-md-0">
            <figure>

  <picture>
    
    <source class="responsive-img-srcset" media="(max-width: 480px)" srcset="/assets/img/FEDWatcher/fedwatcher_logo-480.webp"></source>
    <source class="responsive-img-srcset" media="(max-width: 800px)" srcset="/assets/img/FEDWatcher/fedwatcher_logo-800.webp"></source>
    <source class="responsive-img-srcset" media="(max-width: 1400px)" srcset="/assets/img/FEDWatcher/fedwatcher_logo-1400.webp"></source>
    

    <!-- Fallback to the original file -->
    <img src="/assets/img/FEDWatcher/fedwatcher_logo.png" class="img-fluid rounded z-depth-1" width="auto" height="auto" title="FEDWatcher logo" onerror="this.onerror=null; $('.responsive-img-srcset').remove();">

  </picture>

</figure>

        </div>
    </div>
</center>
<div class="caption">
    The FEDWatcher Logo
</div>

<p>As a developer with a passion for both coding and design, I was excited to take on a project that would challenge my skills and offer a unique opportunity to contribute to the world of open-source software. The FEDWatcher project not only delivered on that promise but also allowed me to create something innovative for the scientific community.</p>

<h4 id="the-fedwatcher-project">The FEDWatcher Project</h4>

<div class="container">
    <div class="row justify-content-sm-center">
        <div class="col-sm mt-3 mt-md-0">
            <figure>

  <picture>
    
    <source class="responsive-img-srcset" media="(max-width: 480px)" srcset="/assets/img/FEDWatcher/fedwatcher-top-480.webp"></source>
    <source class="responsive-img-srcset" media="(max-width: 800px)" srcset="/assets/img/FEDWatcher/fedwatcher-top-800.webp"></source>
    <source class="responsive-img-srcset" media="(max-width: 1400px)" srcset="/assets/img/FEDWatcher/fedwatcher-top-1400.webp"></source>
    

    <!-- Fallback to the original file -->
    <img src="/assets/img/FEDWatcher/fedwatcher-top.jpg" class="img-fluid rounded z-depth-1" width="auto" height="auto" title="FEDWatcher top" onerror="this.onerror=null; $('.responsive-img-srcset').remove();">

  </picture>

</figure>

        </div>
        <div class="col-sm mt-3 mt-md-0">
            <figure>

  <picture>
    
    <source class="responsive-img-srcset" media="(max-width: 480px)" srcset="/assets/img/FEDWatcher/fedwatcher-side-480.webp"></source>
    <source class="responsive-img-srcset" media="(max-width: 800px)" srcset="/assets/img/FEDWatcher/fedwatcher-side-800.webp"></source>
    <source class="responsive-img-srcset" media="(max-width: 1400px)" srcset="/assets/img/FEDWatcher/fedwatcher-side-1400.webp"></source>
    

    <!-- Fallback to the original file -->
    <img src="/assets/img/FEDWatcher/fedwatcher-side.jpg" class="img-fluid rounded z-depth-1" width="auto" height="auto" title="FEDWatcher side" onerror="this.onerror=null; $('.responsive-img-srcset').remove();">

  </picture>

</figure>

        </div>
    </div>
</div>
<div class="caption">
    Two photos of the PCB design for FEDWatcher installed on a Raspberry Pi
</div>

<p>FEDWatcher is a software solution that connects up to four FED3 feeder devices to a single Raspberry Pi 4. Using a Raspberry Pi as the central hub, the software communicates with the FED3 devices through software serial from the BNC port of the FED3 device to a headphone jack port connected to the UART channels on the Pi.</p>

<p>Originally, the FED3 mouse feeder had to be removed from the mouseâ€™s cage to collect the information, potentially interfering with the experiment. This was an inconvenient and time-consuming process, as it required researchers to manually retrieve data from the feeder. Additionally, the microcontroller inside the feeder had only a single port left available, which was a standard digital wire.</p>

<p>FEDWatcher was designed to address these limitations by using the remaining port on the microcontroller to communicate with the feeder without needing to remove it from the cage. This allows researchers to remotely monitor the feeder, reducing the chances of disrupting ongoing experiments. FEDWatcher uses a workaround in software serial to transmit data reliably, making it a valuable tool for scientific research involving FED3 feeders.</p>

<p>The <a href="https://github.com/matiasandina/FEDWatcher" rel="external nofollow noopener" target="_blank">Github repository</a> for FEDWatcher contains the following:</p>

<ol>
  <li>Python code using standard Raspberry Pi software and Python packages.</li>
  <li>The modified software serial library used on the FED3 devices (softwareSerial).</li>
  <li>Files for printing the PCB, used as a Raspberry Pi HAT for easier interfacing with the Raspberry Pi 4 pinout.</li>
  <li>Python code for the FEDWatcher GUI, enabling users to create projects and trigger FEDWatcher easily.</li>
</ol>

<div class="container">
    <div class="row justify-content-sm-center">
        <div class="col-sm mt-3 mt-md-0">
            <figure>

  <picture>
    
    <source class="responsive-img-srcset" media="(max-width: 480px)" srcset="/assets/img/FEDWatcher/circuit_drawing-480.webp"></source>
    <source class="responsive-img-srcset" media="(max-width: 800px)" srcset="/assets/img/FEDWatcher/circuit_drawing-800.webp"></source>
    <source class="responsive-img-srcset" media="(max-width: 1400px)" srcset="/assets/img/FEDWatcher/circuit_drawing-1400.webp"></source>
    

    <!-- Fallback to the original file -->
    <img src="/assets/img/FEDWatcher/circuit_drawing.png" class="img-fluid rounded z-depth-1" width="auto" height="auto" title="FEDWatcher circuit diagram" onerror="this.onerror=null; $('.responsive-img-srcset').remove();">

  </picture>

</figure>

        </div>
        <div class="col-sm mt-3 mt-md-0">
            <figure>

  <picture>
    
    <source class="responsive-img-srcset" media="(max-width: 480px)" srcset="/assets/img/FEDWatcher/gui-480.webp"></source>
    <source class="responsive-img-srcset" media="(max-width: 800px)" srcset="/assets/img/FEDWatcher/gui-800.webp"></source>
    <source class="responsive-img-srcset" media="(max-width: 1400px)" srcset="/assets/img/FEDWatcher/gui-1400.webp"></source>
    

    <!-- Fallback to the original file -->
    <img src="/assets/img/FEDWatcher/gui.png" class="img-fluid rounded z-depth-1" width="auto" height="auto" title="FEDWatcher GUI" onerror="this.onerror=null; $('.responsive-img-srcset').remove();">

  </picture>

</figure>

        </div>
    </div>
</div>
<div class="caption">
    Left, circuit diagram for the Raspberry Pi UART interfaces. Right, the FEDWatcher GUI
</div>

<h4 id="my-role">My Role</h4>

<p>As a developer on the FEDWatcher team, my primary responsibilities included adapting the open-source FED3 mouse feeder systems for remote monitoring capabilities, engineering new hardware to interface the offline mouse feeder using a Raspberry Pi for internet connectivity, and developing software for the Raspberry Pi to monitor the mouse feeders and transmit data and alerts autonomously.</p>

<p>During the development process, I focused on creating efficient, easy-to-understand Python code that would work seamlessly with Raspberry Pi software and Python packages. This involved setting up the Raspberry Pi OS, enabling hardware UARTs, and installing the FEDWatcher software within a virtual environment. Additionally, I worked on finding an optimal hardware connection between the microcontroller on the FED3 feeder and a Raspberry Pi. I settled on a SoftwareSerial connection, due to the constraints of the design of the FED3, which left only a digital pin to work with.</p>

<p>While my colleagues designed the FEDWatcher GUI, I worked closely with them to ensure that the components would be compatible and create a user-friendly experience for researchers and developers. The FEDWatcher HAT was designed by another collaborator on the open-source project.</p>

<h4 id="the-result">The Result</h4>

<p>The result of our collaborative work on the FEDWatcher project is a versatile, user-friendly, and cost-effective solution for connecting FED3 devices to a Raspberry Pi. With this software and HAT design, users can now easily interface with FED3 devices, enabling new possibilities in scientific research and experimentation.</p>

<p>The FEDWatcher project has been an incredible opportunity to put my skills in software development and hardware engineering to the test, while working alongside a talented team of colleagues. Iâ€™m proud to have played a part in its creation and am excited to see how the FEDWatcher will be utilized by the scientific community in the future.</p>

<p>If youâ€™re interested in learning more about the FEDWatcher project or would like to contribute, please visit the <a href="https://github.com/matiasandina/FEDWatcher" rel="external nofollow noopener" target="_blank">GitHub repository</a> and join the ongoing conversation. Letâ€™s continue to push the boundaries of whatâ€™s possible in the world of open-source software and scientific research.</p>

          </article>

        </div>

    </div>

    <!-- Footer -->    <footer class="sticky-bottom mt-5">
      <div class="container">
        Â© Copyright 2023 John  Eastman. 
      </div>
    </footer>

    <!-- JavaScripts -->
    <!-- jQuery -->
  <script src="https://cdn.jsdelivr.net/npm/jquery@3.6.0/dist/jquery.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script>

    <!-- Bootsrap & MDB scripts -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/js/bootstrap.bundle.min.js" integrity="sha256-fgLAgv7fyCGopR/gBNq2iW3ZKIdqIcyshnUULC4vex8=" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/mdbootstrap@4.20.0/js/mdb.min.js" integrity="sha256-NdbiivsvWt7VYCt6hYNT3h/th9vSTL4EDWeGs5SN3DA=" crossorigin="anonymous"></script>

    <!-- Masonry & imagesLoaded -->
  <script defer src="https://cdn.jsdelivr.net/npm/masonry-layout@4.2.2/dist/masonry.pkgd.min.js" integrity="sha256-Nn1q/fx0H7SNLZMQ5Hw5JLaTRZp0yILA/FRexe19VdI=" crossorigin="anonymous"></script>
  <script defer src="https://cdn.jsdelivr.net/npm/imagesloaded@4/imagesloaded.pkgd.min.js"></script>
  <script defer src="/assets/js/masonry.js" type="text/javascript"></script>
    
  <!-- Medium Zoom JS -->
  <script defer src="https://cdn.jsdelivr.net/npm/medium-zoom@1.0.8/dist/medium-zoom.min.js" integrity="sha256-7PhEpEWEW0XXQ0k6kQrPKwuoIomz8R8IYyuU1Qew4P8=" crossorigin="anonymous"></script>
  <script defer src="/assets/js/zoom.js"></script><!-- Load Common JS -->
  <script defer src="/assets/js/common.js"></script>
  <script defer src="/assets/js/copy_code.js" type="text/javascript"></script>

    
  <script async src="https://d1bxh8uas1mnw7.cloudfront.net/assets/embed.js"></script>
  <script async src="https://badge.dimensions.ai/badge.js"></script>

    <!-- MathJax -->
  <script type="text/javascript">
    window.MathJax = {
      tex: {
        tags: 'ams'
      }
    };
  </script>
  <script defer type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3.2.0/es5/tex-mml-chtml.js"></script>
  <script defer src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>

    <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-SN525KWJ5N"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){ window.dataLayer.push(arguments); }
    gtag('js', new Date());
    gtag('config', 'G-SN525KWJ5N');
  </script>
    

<!-- Scrolling Progress Bar -->
<script type="text/javascript">
  /*
   * This JavaScript code has been adapted from the article 
   * https://css-tricks.com/reading-position-indicator/ authored by Pankaj Parashar, 
   * published on the website https://css-tricks.com on the 7th of May, 2014.
   * Couple of changes were made to the original code to make it compatible 
   * with the `al-foio` theme.
   */
  const progressBar = $("#progress");
  /*
   * We set up the bar after all elements are done loading.
   * In some cases, if the images in the page are larger than the intended
   * size they'll have on the page, they'll be resized via CSS to accomodate
   * the desired size. This mistake, however, breaks the computations as the
   * scroll size is computed as soon as the elements finish loading.
   * To account for this, a minimal delay was introduced before computing the
   * values.
   */
  window.onload = function () {
    setTimeout(progressBarSetup, 50);
  };
  /*
   * We set up the bar according to the browser.
   * If the browser supports the progress element we use that.
   * Otherwise, we resize the bar thru CSS styling
   */
  function progressBarSetup() {
    if ("max" in document.createElement("progress")) {
      initializeProgressElement();
      $(document).on("scroll", function() {
        progressBar.attr({ value: getCurrentScrollPosition() });
      });
      $(window).on("resize", initializeProgressElement);
    } else {
      resizeProgressBar();
      $(document).on("scroll", resizeProgressBar);
      $(window).on("resize", resizeProgressBar);
    }
  }
  /*
   * The vertical scroll position is the same as the number of pixels that
   * are hidden from view above the scrollable area. Thus, a value > 0 is
   * how much the user has scrolled from the top
   */
  function getCurrentScrollPosition() {
    return $(window).scrollTop();
  }

  function initializeProgressElement() {
    let navbarHeight = $("#navbar").outerHeight(true);
    $("body").css({ "padding-top": navbarHeight });
    $("progress-container").css({ "padding-top": navbarHeight });
    progressBar.css({ top: navbarHeight });
    progressBar.attr({
      max: getDistanceToScroll(),
      value: getCurrentScrollPosition(),
    });
  }
  /*
   * The offset between the html document height and the browser viewport
   * height will be greater than zero if vertical scroll is possible.
   * This is the distance the user can scroll
   */
  function getDistanceToScroll() {
    return $(document).height() - $(window).height();
  }

  function resizeProgressBar() {
    progressBar.css({ width: getWidthPercentage() + "%" });
  }
  // The scroll ratio equals the percentage to resize the bar
  function getWidthPercentage() {
    return (getCurrentScrollPosition() / getDistanceToScroll()) * 100;
  }
</script>

  </body>
</html>
